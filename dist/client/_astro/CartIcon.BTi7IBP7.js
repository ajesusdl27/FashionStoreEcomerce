import{j as o,$ as c}from"./cart.D0f6m-OD.js";import{r as u}from"./index.WFquGv8Z.js";function f(t,e,n){let r=new Set(e).add(void 0);return t.listen((l,i,s)=>{r.has(s)&&n(l,i,s)})}let a=(t,e)=>n=>{t.current!==n&&(t.current=n,e())};function d(t,{keys:e,deps:n=[t,e]}={}){let r=u.useRef();r.current=t.get();let l=u.useCallback(s=>(a(r,s)(t.value),e?.length>0?f(t,e,a(r,s)):t.listen(a(r,s))),n),i=()=>r.current;return u.useSyncExternalStore(l,i,i)}function p(){const t=d(c);return o.jsxs("button",{id:"cart-toggle",className:"relative touch-target flex items-center justify-center hover:text-primary transition-colors","aria-label":`Carrito (${t} items)`,children:[o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),t>0&&o.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-primary text-primary-foreground text-xs font-bold rounded-full flex items-center justify-center animate-bounce-subtle",children:t>99?"99+":t},t)]})}export{p as default};
