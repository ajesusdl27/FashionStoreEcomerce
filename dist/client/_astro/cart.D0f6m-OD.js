var T={exports:{}},v={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g;function A(){if(g)return v;g=1;var e=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function n(r,t,i){var l=null;if(i!==void 0&&(l=""+i),t.key!==void 0&&(l=""+t.key),"key"in t){i={};for(var c in t)c!=="key"&&(i[c]=t[c])}else i=t;return t=i.ref,{$$typeof:e,type:r,key:l,ref:t!==void 0?t:null,props:i}}return v.Fragment=u,v.jsx=n,v.jsxs=n,v}var I;function N(){return I||(I=1,T.exports=A()),T.exports}var w=N();let a=[],f=0;const p=4;let R=0,_=e=>{let u=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},lc:0,listen(r){return n.lc=u.push(r),()=>{for(let i=f+p;i<a.length;)a[i]===r?a.splice(i,p):i+=p;let t=u.indexOf(r);~t&&(u.splice(t,1),--n.lc||n.off())}},notify(r,t){R++;let i=!a.length;for(let l of u)a.push(l,n.value,r,t);if(i){for(f=0;f<a.length;f+=p)a[f](a[f+1],a[f+2],a[f+3]);a.length=0}},off(){},set(r){let t=n.value;t!==r&&(n.value=r,n.notify(t))},subscribe(r){let t=n.listen(r);return r(n.value),t},value:e};return n};const q=5,x=6,E=10;let M=(e,u,n,r)=>(e.events=e.events||{},e.events[n+E]||(e.events[n+E]=r(t=>{e.events[n].reduceRight((i,l)=>(l(i),i),{shared:{},...t})})),e.events[n]=e.events[n]||[],e.events[n].push(u),()=>{let t=e.events[n],i=t.indexOf(u);t.splice(i,1),t.length||(delete e.events[n],e.events[n+E](),delete e.events[n+E])}),U=1e3,C=(e,u)=>M(e,r=>{let t=u(r);t&&e.events[x].push(t)},q,r=>{let t=e.listen;e.listen=(...l)=>(!e.lc&&!e.active&&(e.active=!0,r()),t(...l));let i=e.off;return e.events[x]=[],e.off=()=>{i(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let l of e.events[x])l();e.events[x]=[]}},U)},()=>{e.listen=t,e.off=i}}),J=(e,u,n)=>{Array.isArray(e)||(e=[e]);let r,t,i=()=>{if(t===R)return;t=R;let d=e.map(s=>s.get());if(!r||d.some((s,h)=>s!==r[h])){r=d;let s=u(...d);s&&s.then&&s.t?s.then(h=>{r===d&&l.set(h)}):(l.set(s),t=R)}},l=_(void 0),c=l.get;l.get=()=>(i(),c());let S=i;return C(l,()=>{let d=e.map(s=>s.listen(S));return i(),()=>{for(let s of d)s()}}),l},m=(e,u)=>J(e,u);const O="fashionstore_cart";function k(){if(typeof window>"u")return[];try{const e=localStorage.getItem(O);return e?JSON.parse(e):[]}catch{return[]}}function L(e){typeof window>"u"||localStorage.setItem(O,JSON.stringify(e))}const o=_(k());o.subscribe(e=>{L(e)});const P=m(o,e=>e.reduce((u,n)=>u+n.quantity,0));m(o,e=>e.reduce((u,n)=>u+n.price*n.quantity,0));function Y(e,u=1){const n=o.get(),r=n.findIndex(t=>t.productId===e.productId&&t.variantId===e.variantId);if(r>=0){const t=[...n];t[r]={...t[r],quantity:t[r].quantity+u},o.set(t)}else{const t={...e,id:`${e.productId}-${e.variantId}`,quantity:u};o.set([...n,t])}}export{P as $,Y as a,w as j};
